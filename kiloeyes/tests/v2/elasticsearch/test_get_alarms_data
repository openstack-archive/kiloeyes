{
   "took":2,
   "timed_out":false,
   "_shards":{
      "total":5,
      "successful":5,
      "failed":0
   },
   "hits":{
      "total":8,
      "max_score":0.0,
      "hits":[]
   },
   "aggregations":{
      "latest_state":{
         "doc_count_error_upper_bound":0,
         "sum_other_doc_count":0,
         "buckets":[
            {
               "key":"CM-demo-alarm-def-01",
               "doc_count":4,
               "top_state_hits":{
                  "hits":{
                     "total":4,
                     "max_score":null,
                     "hits":[
                        {
                           "_index":"data_20150701000000",
                           "_type":"alarms",
                           "_id":"1bcbe772-f12b-44ef-a1b5-7685baeaaba2",
                           "_score":null,
                           "_source":{
                              "id":"1bcbe772-f12b-44ef-a1b5-7685baeaaba2",
                              "sub_alarms":[
                                 {
                                    "sub_alarm_expression":{
                                       "periods":"1",
                                       "dimensions":{
                                          "key2":"OWWSMF",
                                          "key1":"ULPAPW"
                                       },
                                       "period":"60",
                                       "metric_name":"afhdpc",
                                       "operator":"GT",
                                       "threshold":"5",
                                       "function":"MAX"
                                    },
                                    "current_values":[
                                       null
                                    ],
                                    "sub_alarm_state":"UNDETERMINED"
                                 }
                              ],
                              "metrics":[
                                 {
                                    "name":"AFHDPC",
                                    "dimensions":{
                                       "key5":"101",
                                       "key_1":"100",
                                       "key2":"OWWSMF",
                                       "key1":"ULPAPW"
                                    }
                                 }
                              ],
                              "state":"OK",
                              "updated_timestamp":"2015-07-30T20:27:01Z",
                              "created_timestamp":"2015-07-30T20:23:33Z",
                              "alarm_definition":{
                                 "expression":"max(AFHDPC{key1=ULPAPW,key2=OWWSMF}) > 5",
                                 "id":"eb9675f3-3b60-4e0a-9881-434d9db47e65",
                                 "alarm_actions":[
                                    "c6bff1bb-f384-46e4-80b2-4d564cb7dd96"
                                 ],
                                 "expression_data":[
                                    {
                                       "periods":"1",
                                       "dimensions":{
                                          "key2":"OWWSMF",
                                          "key1":"ULPAPW"
                                       },
                                       "period":"60",
                                       "metric_name":"afhdpc",
                                       "operator":"GT",
                                       "threshold":"5",
                                       "function":"MAX"
                                    }
                                 ],
                                 "description":"demo alarm definition",
                                 "name":"CM-demo-alarm-def-01",
                                 "undetermined_actions":[
                                    "c6bff1bb-f384-46e4-80b2-4d564cb7dd96"
                                 ],
                                 "severity":"LOW",
                                 "match_by":[
                                    "key2",
                                    "key1",
                                    "key_1",
                                    "key5"
                                 ],
                                 "ok_actions":[
                                    "c6bff1bb-f384-46e4-80b2-4d564cb7dd96"
                                 ]
                              },
                              "state_updated_timestamp":"2015-07-30T20:27:01Z"
                           },
                           "sort":[
                              1438288021000
                           ]
                        }
                     ]
                  }
               }
            },
            {
               "key":"CM-demo-alarm-def-1",
               "doc_count":4,
               "top_state_hits":{
                  "hits":{
                     "total":4,
                     "max_score":null,
                     "hits":[
                        {
                           "_index":"data_20150701000000",
                           "_type":"alarms",
                           "_id":"256acdac-2f05-4e3e-85a3-802055bf2863",
                           "_score":null,
                           "_source":{
                              "id":"256acdac-2f05-4e3e-85a3-802055bf2863",
                              "sub_alarms":[
                                 {
                                    "sub_alarm_expression":{
                                       "periods":"1",
                                       "dimensions":{
                                          "key2":"OWWSMF",
                                          "key1":"ULPAPW"
                                       },
                                       "period":"60",
                                       "metric_name":"afhdpc",
                                       "operator":"GT",
                                       "threshold":"5",
                                       "function":"MAX"
                                    },
                                    "current_values":[
                                       null
                                    ],
                                    "sub_alarm_state":"UNDETERMINED"
                                 }
                              ],
                              "metrics":[
                                 {
                                    "name":"AFHDPC",
                                    "dimensions":{
                                       "key5":"101",
                                       "key_1":"100",
                                       "key2":"OWWSMF",
                                       "key1":"ULPAPW"
                                    }
                                 }
                              ],
                              "state":"UNDETERMINED",
                              "updated_timestamp":"2015-07-30T20:27:01Z",
                              "created_timestamp":"2015-07-30T20:23:33Z",
                              "alarm_definition":{
                                 "expression":"max(AFHDPC{key1=ULPAPW,key2=OWWSMF}) > 5",
                                 "id":"e8187b06-8f02-42d4-9303-883b5c420642",
                                 "alarm_actions":[
                                    "c3ed4102-4b5b-444b-b015-8e7031a96b6d"
                                 ],
                                 "expression_data":[
                                    {
                                       "periods":"1",
                                       "dimensions":{
                                          "key2":"OWWSMF",
                                          "key1":"ULPAPW"
                                       },
                                       "period":"60",
                                       "metric_name":"afhdpc",
                                       "operator":"GT",
                                       "threshold":"5",
                                       "function":"MAX"
                                    }
                                 ],
                                 "description":"more description",
                                 "name":"CM-demo-alarm-def-1",
                                 "undetermined_actions":[
                                    "c3ed4102-4b5b-444b-b015-8e7031a96b6d"
                                 ],
                                 "severity":"LOW",
                                 "match_by":[
                                    "key2",
                                    "key1",
                                    "key_1",
                                    "key5"
                                 ],
                                 "ok_actions":[
                                    "c3ed4102-4b5b-444b-b015-8e7031a96b6d"
                                 ]
                              },
                              "state_updated_timestamp":"2015-07-30T20:27:01Z"
                           },
                           "sort":[
                              1438288021000
                           ]
                        }
                     ]
                  }
               }
            }
         ]
      }
   }
}